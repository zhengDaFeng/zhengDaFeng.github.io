<!DOCTYPE html>
<html>
    <head>
        <title>郑大峰的博客</title>
        <style>
            a:hover {
                color: green;
                background-color: transparent;
                text-decoration: underline;
            }
        </style>
    </head>
    <body>
        <h1>操作</h1>

        <p>新建<strong>类库项目</strong>，添加 HalconDotNet 引用，使用 HWindowControl 定义变量。</p>

        <h1>运行环境1</h1>

        <ul><li>系统 - Windows 10</li><li>Halcon版本 - 12.0.0</li><li>vs版本 - 2017</li></ul>

        <p>编译运行，无任何错误。</p>

        <h1>运行环境2</h1>

        <ul><li>系统 - Windows 10</li><li>Halcon版本 - 12.0.0</li><li>vs版本 - 2010/2013</li></ul>

        <h2>编译错误</h2>

        <blockquote><p>类型“System.Windows.Forms.UserControl”在未被引用的程序集中定义，必须添加对程序集&quot;类型“System.Windows.Forms, Version=2.0.0.0...&quot;的引用</p></blockquote>

        <h2>解决方式</h2>

        <p>添加 <strong>System.Windows.Forms</strong> 该引用后编译通过。</p>

        <h1>解析</h1>

        <p>这里算不上解析吧，网上也难以找到相关说明，纯属个人推测。HWindowControl这个控件应该是Halcon官方使用 System.Windows.Forms.UserControl 进行定义的，封装成DLL后，由于vs2010和vs2013的编译器不够智能，或者是编译器bug，所以编译出错了。vs2017对编译器进行了改进，识别出了该控件及其引用，或者说修复了这个bug。</p>
    </body>
</html>